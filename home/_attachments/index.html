<!DOCTYPE html>
<html>
  <head>
    <title>Information Graph</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"> 
    <link rel="stylesheet" href="style/reset.css" type="text/css">
    <link rel="stylesheet/less" href="style/main.less" type="text/css">
  </head>
  <body>

    <div id="header">
      <h1>Information Graph</h1>
      <div id="notification">: </div>
    </div>

    <div id="content">
      <div id="sidebar">
        <input type="text" id="itemFilter"
               title="Filter items" value="Search"/>
        <div id="itemList">
        </div>
        <form class="newItem">
          <input type="text" name="newItemValue" 
                 title="Enter item value" value="Add New Item"/>
        </form>
      </div>
      <div id="main">
        <div id="queryRelationList"></div>
      </div>
    </div>

    <div class="spacer"></div>
    <div id="footer"></div>

  </body>
  <script id="itemTemplate" type="text/x-jquery-tmpl">
    <div doc_id="${_id}" class="item">
      <div class="docSelect" title="Select item">
        <span class="optionText">${igSelectionIndex}</span>
      </div>
      <div class="itemValue" title="Double Click for delete option">
        <span class="docSearch" title="Search for this item">${value}</span>
      </div> 
    </div>
  </script>
  <script id="itemEditTemplate" type="text/x-jquery-tmpl">
    <div doc_id="${_id}" originalValue="${value}" class="item">
      <div class="docDelete" title="Delete">x</div>
      <div class="itemEdit">
        <form class="itemEditForm">
          <input disabled="disabled" class="itemInput" value="${value}"/>
        </form>
      </div>
    </div>
  </script>
  <script id="relationTemplate" type="text/x-jquery-tmpl">
    <div doc_id="${_id}" class="relation">
      <table><tr>
        <td class="sentence">
          <div class="tick" title="Whether this triplet is a sentence">
            {{if ($item.data.sentence && sentence === "yes")}}&#x2714;{{else}}-{{/if}}
          </div>
        </td>
        <td class="subject">{{tmpl(subjectDoc) "#spoTemplate"}}</td>
        <td class="predicate">{{tmpl(predicateDoc) "#spoTemplate"}}</td>
        <td class="object">{{tmpl(objectDoc) "#spoTemplate"}}</td>
        <td class="relationOptionContainer">
          <div class="relationOption docSelect">
            <div class="relationOptionButton" title="Select relation as spo">
              <span class="optionText">${igSelectionIndex}</span>
            </div>
          </div>
          <div class="relationOption docSearch">
            <div class="relationOptionButton" title="Search for this relation">o</div>
          </div>
          <div class="separator">|</div>
          <div class="relationOption docDelete">
            <div class="relationOptionButton" title="Delete this relation">x</div>
          </div>
        </td>
      </tr></table>
      <div class="constituents"></div>
    </div>
  </script>
  <script id="spoTemplate" type="text/x-jquery-tmpl">
    <div doc_id="${_id}" class="spo">
      <div class="docSelect" title="Select doc">
        <span class="optionText">${igSelectionIndex}</span>
      </div>
      <div class="docSearch" title="Search for this doc">${$item.data.toString()}</div>
    </div>
  </script>
  <script src="vendor/jquery/jquery.js"></script>
  <script src="vendor/couch/jquery.couch.js"></script>
  <script src="vendor/couch/sha1.js"></script>
  <script src="vendor/ig/jquery.couch.ig.js"></script>
  <script src="vendor/jquery/jquery.tmpl.js"></script>
  <script src="scripts/less-1.0.41.min.js"></script>
  <script src="scripts/shortenItem.js"></script>
  <script src="scripts/startup.js"></script>
</html>
